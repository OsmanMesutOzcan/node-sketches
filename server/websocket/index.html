<html>
    <head>
        <meta charset="UTF-8"/>
        <title>Websocket</title>
    </head>
    <body>
        <h1>Websocket Page</h1>
        <div id="message"></div>
        <form action="">
            <input id="message-input" type="text">
            <button id="message-submit">Send</button>
        </form>
        <script>

         const ws = new WebSocket('ws://localhost:3000/');
         ws.onopen = () => console.log('Opened.');
         ws.onmessage = ({data}) => console.log(data);
         const send = (str) => { ws.send(`${str}`) };

         let button = document.getElementById('message-submit');
         button.addEventListener('click', function (event) {
           let input = document.getElementById('message-input');
           send(input.value);
           input.value = '';
           event.preventDefault();
         });

        </script>
    </body>
</html>
